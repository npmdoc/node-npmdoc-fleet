<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

    >fleet (v0.1.6)</a>
</h1>
<h4>command a cluster of processes </h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.fleet">module fleet</a><ol>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">fleet.</span>git</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.fleet.git">module fleet.git</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fleet.git.branchName">
            function <span class="apidocSignatureSpan">fleet.git.</span>branchName
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fleet.git.commit">
            function <span class="apidocSignatureSpan">fleet.git.</span>commit
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fleet.git.dir">
            function <span class="apidocSignatureSpan">fleet.git.</span>dir
            <span class="apidocSignatureSpan">(cwd)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fleet.git.push">
            function <span class="apidocSignatureSpan">fleet.git.</span>push
            <span class="apidocSignatureSpan">(remote, branch, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.fleet.git.repoName">
            function <span class="apidocSignatureSpan">fleet.git.</span>repoName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.fleet" id="apidoc.module.fleet">module fleet</a></h1>



</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.fleet.git" id="apidoc.module.fleet.git">module fleet.git</a></h1>


    <h2>
        <a href="#apidoc.element.fleet.git.branchName" id="apidoc.element.fleet.git.branchName">
        function <span class="apidocSignatureSpan">fleet.git.</span>branchName
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">branchName = function (cb) {
    exec(&#x27;git branch --no-color&#x27;, function (err, stdout, stderr) {
        if (err) cb(err)
        else if (stderr) cb(new Error(stderr))
        else {
            var branch = stdout.split(&#x27;\n&#x27;).filter(function (line) {
                return /^\*/.test(line)
            })[0].replace(/^\*\s*/, &#x27;&#x27;);
            cb(null, branch);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.push = function push (remote, branch, cb) {
if (typeof branch === &#x27;function&#x27;) {
    cb = branch;
    branch = undefined;
}

if (!branch) return exports.<span class="apidocCodeKeywordSpan">branchName</span>(function (err, b) {
    if (err) cb(err)
    else push(remote, b, cb)
});

var ps = spawn(&#x27;git&#x27;, [ &#x27;push&#x27;, remote, branch ]);

ps.stdout.on(&#x27;data&#x27;, function (data) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fleet.git.commit" id="apidoc.element.fleet.git.commit">
        function <span class="apidocSignatureSpan">fleet.git.</span>commit
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">commit = function (cb) {
    exec(&#x27;git log --no-color | head -n1&#x27;, function (err, stdout, stderr) {
        if (err) cb(err)
        else if (stderr) cb(new Error(stderr))
        else cb(null, stdout.trim().split(/\s+/)[1]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    cwd : argv.cwd,
    once : true
};
if (!opts.repo) {
    console.error(&#x27;specify --repo or navigate to a git repo&#x27;);
    return;
}
if (!opts.commit) git.<span class="apidocCodeKeywordSpan">commit</span>(function (err, commit) {
    if (err) {
        console.error(err);
        p.hub.close();
    }
    else {
        opts.commit = commit;
        spawn(hub, opts);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fleet.git.dir" id="apidoc.element.fleet.git.dir">
        function <span class="apidocSignatureSpan">fleet.git.</span>dir
        <span class="apidocSignatureSpan">(cwd)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dir = function (cwd) {
    var ps = (cwd || process.cwd()).split(&#x27;/&#x27;);
    for (var i = ps.length; i &#x3e; 0; i--) {
        var dir = ps.slice(0, i).join(&#x27;/&#x27;);
        if (existsSync(dir + &#x27;/.git&#x27;)) {
            return dir;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var propagit = require(&#x27;propagit&#x27;);
var git = require(&#x27;../lib/git&#x27;);

var EventEmitter = require(&#x27;events&#x27;).EventEmitter;

var p = propagit(argv);
p.on(&#x27;error&#x27;, function (err) {
console.<span class="apidocCodeKeywordSpan">dir</span>(err);
});

p.hub(function (hub) {
var opts = {
    drone : argv.drone,
    drones : argv.drones,
    repo : argv.repo || git.repoName(),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fleet.git.push" id="apidoc.element.fleet.git.push">
        function <span class="apidocSignatureSpan">fleet.git.</span>push
        <span class="apidocSignatureSpan">(remote, branch, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function push(remote, branch, cb) {
    if (typeof branch === &#x27;function&#x27;) {
        cb = branch;
        branch = undefined;
    }

    if (!branch) return exports.branchName(function (err, b) {
        if (err) cb(err)
        else push(remote, b, cb)
    });

    var ps = spawn(&#x27;git&#x27;, [ &#x27;push&#x27;, remote, branch ]);

    ps.stdout.on(&#x27;data&#x27;, function (data) {
      console.log(String(data));
    });

    ps.stderr.on(&#x27;data&#x27;, function (data) {
      console.error(String(data));
    });

    ps.on(&#x27;exit&#x27;, function (code, sig) {
        if (code !== 0) cb(new Error(&#x27;caught signal &#x27; + sig + &#x27;, code &#x27; + code))
        else cb(null)
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var remote = require(&#x27;./remote&#x27;);
var argv = module.exports = require(&#x27;optimist&#x27;).argv;

// bare args with a leading + are remotes
var args = argv._.reduce(function (acc, arg) {
if (/^\+/.test(arg)) acc.remote = arg
else acc._.<span class="apidocCodeKeywordSpan">push</span>(arg)
return acc;
}, { _ : [] });
argv.remote = argv.remote || args.remote;
argv._ = args._;

if (typeof argv.drone === &#x27;string&#x27; &#x26;&#x26; argv.drone.match(/^\/.*\/\w*$/)) {
var m = argv.drone.match(/^\/(.*)\/(\w*$)/);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.fleet.git.repoName" id="apidoc.element.fleet.git.repoName">
        function <span class="apidocSignatureSpan">fleet.git.</span>repoName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">repoName = function () {
    var dir = exports.dir()
    return dir.split(&#x27;/&#x27;).slice(-1)[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
console.dir(err);
});

p.hub(function (hub) {
var opts = {
    drone : argv.drone,
    drones : argv.drones,
    repo : argv.repo || git.<span class="apidocCodeKeywordSpan">repoName</span>(),
    commit : argv.commit,
    command : argv._,
    env : argv.env || {},
    cwd : argv.cwd,
    once : true
};
if (!opts.repo) {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
